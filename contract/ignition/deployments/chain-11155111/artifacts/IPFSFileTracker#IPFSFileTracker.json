{
  "_format": "hh-sol-artifact-1",
  "contractName": "IPFSFileTracker",
  "sourceName": "contracts/IPFSFileTracker.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "EmptyCID",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "EmptyFileName",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "cid",
          "type": "string"
        }
      ],
      "name": "FileAlreadyDeleted",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "cid",
          "type": "string"
        }
      ],
      "name": "FileNotFound",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "caller",
          "type": "address"
        }
      ],
      "name": "UnauthorizedAccess",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "fileId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "enum IPFSFileTracker.Action",
          "name": "action",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "cid",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "enum IPFSFileTracker.FileType",
          "name": "fileType",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "fileName",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "blockHash",
          "type": "bytes32"
        }
      ],
      "name": "FileActionRecorded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_fileId",
          "type": "bytes32"
        }
      ],
      "name": "getFileReference",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "fileId",
              "type": "bytes32"
            },
            {
              "internalType": "string",
              "name": "cid",
              "type": "string"
            },
            {
              "internalType": "enum IPFSFileTracker.Action",
              "name": "action",
              "type": "uint8"
            },
            {
              "internalType": "enum IPFSFileTracker.FileType",
              "name": "fileType",
              "type": "uint8"
            },
            {
              "internalType": "string",
              "name": "fileName",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "blockHash",
              "type": "bytes32"
            },
            {
              "internalType": "bool",
              "name": "exists",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "isDeleted",
              "type": "bool"
            }
          ],
          "internalType": "struct IPFSFileTracker.FileReference",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_cid",
          "type": "string"
        }
      ],
      "name": "getLatestFileReference",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "fileId",
              "type": "bytes32"
            },
            {
              "internalType": "string",
              "name": "cid",
              "type": "string"
            },
            {
              "internalType": "enum IPFSFileTracker.Action",
              "name": "action",
              "type": "uint8"
            },
            {
              "internalType": "enum IPFSFileTracker.FileType",
              "name": "fileType",
              "type": "uint8"
            },
            {
              "internalType": "string",
              "name": "fileName",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "blockHash",
              "type": "bytes32"
            },
            {
              "internalType": "bool",
              "name": "exists",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "isDeleted",
              "type": "bool"
            }
          ],
          "internalType": "struct IPFSFileTracker.FileReference",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getOwner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_cid",
          "type": "string"
        }
      ],
      "name": "isFileDeleted",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_cid",
          "type": "string"
        },
        {
          "internalType": "enum IPFSFileTracker.Action",
          "name": "_action",
          "type": "uint8"
        },
        {
          "internalType": "enum IPFSFileTracker.FileType",
          "name": "_fileType",
          "type": "uint8"
        },
        {
          "internalType": "string",
          "name": "_fileName",
          "type": "string"
        }
      ],
      "name": "recordFileAction",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a0604052348015600f57600080fd5b5033608052608051610ffa6100436000396000818160f90152818161018b01528181610407015261079e0152610ffa6000f3fe608060405234801561001057600080fd5b50600436106100665760003560e01c80634a0de370116100505780634a0de370146100a95780638534e261146100bc578063893d20e8146100df57600080fd5b8062c9962a1461006b57806307c732a914610094575b600080fd5b61007e610079366004610abb565b610123565b60405161008b9190610b5e565b60405180910390f35b6100a76100a2366004610cb1565b6103ef565b005b61007e6100b7366004610d47565b610736565b6100cf6100ca366004610d47565b610a0f565b604051901515815260200161008b565b60405173ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016815260200161008b565b610173604080516101208101825260008082526060602083015290918201908152602001600081526060602082018190526000604083018190529082018190526080820181905260a09091015290565b3373ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016146101d057604051633733be5960e21b81523360048201526024015b60405180910390fd5b6000806000848152602001908152602001600020604051806101200160405290816000820154815260200160018201805461020a90610d84565b80601f016020809104026020016040519081016040528092919081815260200182805461023690610d84565b80156102835780601f1061025857610100808354040283529160200191610283565b820191906000526020600020905b81548152906001019060200180831161026657829003601f168201915b5050509183525050600282015460209091019060ff1660038111156102aa576102aa610b24565b60038111156102bb576102bb610b24565b81526020016002820160019054906101000a900460ff1660018111156102e3576102e3610b24565b60018111156102f4576102f4610b24565b815260200160038201805461030890610d84565b80601f016020809104026020016040519081016040528092919081815260200182805461033490610d84565b80156103815780601f1061035657610100808354040283529160200191610381565b820191906000526020600020905b81548152906001019060200180831161036457829003601f168201915b5050509183525050600482015460208201526005820154604082015260069091015460ff8082161515606084015261010090910416151560809091015260e08101519091506103e9578060200151604051630b5d665f60e31b81526004016101c79190610dbe565b92915050565b3373ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000161461044757604051633733be5960e21b81523360048201526024016101c7565b8351600003610482576040517f63ee91d000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b80516000036104bd576040517ff921971d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60006001856040516104cf9190610dd8565b908152604051908190036020019020549050801561055b5760008181526020819052604090206006810154610100900460ff1680156105205750600285600381111561051d5761051d610b24565b14155b1561055957856040517fbf46cc8e0000000000000000000000000000000000000000000000000000000081526004016101c79190610dbe565b505b426000610569600143610df4565b4090506000610579888489610a74565b90506040518061012001604052808281526020018981526020018860038111156105a5576105a5610b24565b81526020018760018111156105bc576105bc610b24565b81526020810187905260408101859052606081018490526001608082015260a00160028960038111156105f1576105f1610b24565b1490526000828152602081815260409091208251815590820151600182019061061a9082610e64565b50604082015160028201805460ff1916600183600381111561063e5761063e610b24565b0217905550606082015160028201805461ff00191661010083600181111561066857610668610b24565b0217905550608082015160038201906106819082610e64565b5060a0820151600482015560c0820151600582015560e0820151600690910180546101009384015161ffff1990911692151561ff0019169290921791151590920217905560405181906001906106d8908b90610dd8565b908152602001604051809103902081905550807fe2d3d548048fbd5fb6210778abb7330e4ed6ef43c1812f775e910e55fc5b9cc6888a8989888860405161072496959493929190610f23565b60405180910390a25050505050505050565b610786604080516101208101825260008082526060602083015290918201908152602001600081526060602082018190526000604083018190529082018190526080820181905260a09091015290565b3373ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016146107de57604051633733be5960e21b81523360048201526024016101c7565b60006001836040516107f09190610dd8565b908152604051908190036020019020549050806108225782604051630b5d665f60e31b81526004016101c79190610dbe565b600081815260208181526040918290208251610120810190935280548352600181018054919284019161085490610d84565b80601f016020809104026020016040519081016040528092919081815260200182805461088090610d84565b80156108cd5780601f106108a2576101008083540402835291602001916108cd565b820191906000526020600020905b8154815290600101906020018083116108b057829003601f168201915b5050509183525050600282015460209091019060ff1660038111156108f4576108f4610b24565b600381111561090557610905610b24565b81526020016002820160019054906101000a900460ff16600181111561092d5761092d610b24565b600181111561093e5761093e610b24565b815260200160038201805461095290610d84565b80601f016020809104026020016040519081016040528092919081815260200182805461097e90610d84565b80156109cb5780601f106109a0576101008083540402835291602001916109cb565b820191906000526020600020905b8154815290600101906020018083116109ae57829003601f168201915b5050509183525050600482015460208201526005820154604082015260069091015460ff808216151560608401526101009091041615156080909101529392505050565b600080600183604051610a229190610dd8565b90815260405190819003602001902054905080610a545782604051630b5d665f60e31b81526004016101c79190610dbe565b600090815260208190526040902060060154610100900460ff1692915050565b60008383836003811115610a8a57610a8a610b24565b604051602001610a9c93929190610f78565b6040516020818303038152906040528051906020012090509392505050565b600060208284031215610acd57600080fd5b5035919050565b60005b83811015610aef578181015183820152602001610ad7565b50506000910152565b60008151808452610b10816020860160208601610ad4565b601f01601f19169290920160200192915050565b634e487b7160e01b600052602160045260246000fd5b60048110610b4a57610b4a610b24565b9052565b60028110610b4a57610b4a610b24565b6020815281516020820152600060208301516101206040840152610b86610140840182610af8565b90506040840151610b9a6060850182610b3a565b506060840151610bad6080850182610b4e565b506080840151838203601f190160a0850152610bc98282610af8565b91505060a084015160c084015260c084015160e084015260e0840151610bf461010085018215159052565b50610100840151801515610120850152509392505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610c3357600080fd5b813567ffffffffffffffff811115610c4d57610c4d610c0c565b604051601f8201601f19908116603f0116810167ffffffffffffffff81118282101715610c7c57610c7c610c0c565b604052818152838201602001851015610c9457600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215610cc757600080fd5b843567ffffffffffffffff811115610cde57600080fd5b610cea87828801610c22565b945050602085013560048110610cff57600080fd5b9250604085013560028110610d1357600080fd5b9150606085013567ffffffffffffffff811115610d2f57600080fd5b610d3b87828801610c22565b91505092959194509250565b600060208284031215610d5957600080fd5b813567ffffffffffffffff811115610d7057600080fd5b610d7c84828501610c22565b949350505050565b600181811c90821680610d9857607f821691505b602082108103610db857634e487b7160e01b600052602260045260246000fd5b50919050565b602081526000610dd16020830184610af8565b9392505050565b60008251610dea818460208701610ad4565b9190910192915050565b818103818111156103e957634e487b7160e01b600052601160045260246000fd5b601f821115610e5f57806000526020600020601f840160051c81016020851015610e3c5750805b601f840160051c820191505b81811015610e5c5760008155600101610e48565b50505b505050565b815167ffffffffffffffff811115610e7e57610e7e610c0c565b610e9281610e8c8454610d84565b84610e15565b6020601f821160018114610ec65760008315610eae5750848201515b600019600385901b1c1916600184901b178455610e5c565b600084815260208120601f198516915b82811015610ef65787850151825560209485019460019092019101610ed6565b5084821015610f145786840151600019600387901b60f8161c191681555b50505050600190811b01905550565b610f2d8188610b3a565b60c060208201526000610f4360c0830188610af8565b610f506040840188610b4e565b8281036060840152610f628187610af8565b6080840195909552505060a00152949350505050565b60008451610f8a818460208901610ad4565b919091019283525060f81b7fff0000000000000000000000000000000000000000000000000000000000000016602082015260210191905056fea26469706673582212206c6a431f4bfc9f7f88c3ee35112b6043a0d1940c571aa14aae472ff19bfba3ec64736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100665760003560e01c80634a0de370116100505780634a0de370146100a95780638534e261146100bc578063893d20e8146100df57600080fd5b8062c9962a1461006b57806307c732a914610094575b600080fd5b61007e610079366004610abb565b610123565b60405161008b9190610b5e565b60405180910390f35b6100a76100a2366004610cb1565b6103ef565b005b61007e6100b7366004610d47565b610736565b6100cf6100ca366004610d47565b610a0f565b604051901515815260200161008b565b60405173ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016815260200161008b565b610173604080516101208101825260008082526060602083015290918201908152602001600081526060602082018190526000604083018190529082018190526080820181905260a09091015290565b3373ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016146101d057604051633733be5960e21b81523360048201526024015b60405180910390fd5b6000806000848152602001908152602001600020604051806101200160405290816000820154815260200160018201805461020a90610d84565b80601f016020809104026020016040519081016040528092919081815260200182805461023690610d84565b80156102835780601f1061025857610100808354040283529160200191610283565b820191906000526020600020905b81548152906001019060200180831161026657829003601f168201915b5050509183525050600282015460209091019060ff1660038111156102aa576102aa610b24565b60038111156102bb576102bb610b24565b81526020016002820160019054906101000a900460ff1660018111156102e3576102e3610b24565b60018111156102f4576102f4610b24565b815260200160038201805461030890610d84565b80601f016020809104026020016040519081016040528092919081815260200182805461033490610d84565b80156103815780601f1061035657610100808354040283529160200191610381565b820191906000526020600020905b81548152906001019060200180831161036457829003601f168201915b5050509183525050600482015460208201526005820154604082015260069091015460ff8082161515606084015261010090910416151560809091015260e08101519091506103e9578060200151604051630b5d665f60e31b81526004016101c79190610dbe565b92915050565b3373ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000161461044757604051633733be5960e21b81523360048201526024016101c7565b8351600003610482576040517f63ee91d000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b80516000036104bd576040517ff921971d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60006001856040516104cf9190610dd8565b908152604051908190036020019020549050801561055b5760008181526020819052604090206006810154610100900460ff1680156105205750600285600381111561051d5761051d610b24565b14155b1561055957856040517fbf46cc8e0000000000000000000000000000000000000000000000000000000081526004016101c79190610dbe565b505b426000610569600143610df4565b4090506000610579888489610a74565b90506040518061012001604052808281526020018981526020018860038111156105a5576105a5610b24565b81526020018760018111156105bc576105bc610b24565b81526020810187905260408101859052606081018490526001608082015260a00160028960038111156105f1576105f1610b24565b1490526000828152602081815260409091208251815590820151600182019061061a9082610e64565b50604082015160028201805460ff1916600183600381111561063e5761063e610b24565b0217905550606082015160028201805461ff00191661010083600181111561066857610668610b24565b0217905550608082015160038201906106819082610e64565b5060a0820151600482015560c0820151600582015560e0820151600690910180546101009384015161ffff1990911692151561ff0019169290921791151590920217905560405181906001906106d8908b90610dd8565b908152602001604051809103902081905550807fe2d3d548048fbd5fb6210778abb7330e4ed6ef43c1812f775e910e55fc5b9cc6888a8989888860405161072496959493929190610f23565b60405180910390a25050505050505050565b610786604080516101208101825260008082526060602083015290918201908152602001600081526060602082018190526000604083018190529082018190526080820181905260a09091015290565b3373ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016146107de57604051633733be5960e21b81523360048201526024016101c7565b60006001836040516107f09190610dd8565b908152604051908190036020019020549050806108225782604051630b5d665f60e31b81526004016101c79190610dbe565b600081815260208181526040918290208251610120810190935280548352600181018054919284019161085490610d84565b80601f016020809104026020016040519081016040528092919081815260200182805461088090610d84565b80156108cd5780601f106108a2576101008083540402835291602001916108cd565b820191906000526020600020905b8154815290600101906020018083116108b057829003601f168201915b5050509183525050600282015460209091019060ff1660038111156108f4576108f4610b24565b600381111561090557610905610b24565b81526020016002820160019054906101000a900460ff16600181111561092d5761092d610b24565b600181111561093e5761093e610b24565b815260200160038201805461095290610d84565b80601f016020809104026020016040519081016040528092919081815260200182805461097e90610d84565b80156109cb5780601f106109a0576101008083540402835291602001916109cb565b820191906000526020600020905b8154815290600101906020018083116109ae57829003601f168201915b5050509183525050600482015460208201526005820154604082015260069091015460ff808216151560608401526101009091041615156080909101529392505050565b600080600183604051610a229190610dd8565b90815260405190819003602001902054905080610a545782604051630b5d665f60e31b81526004016101c79190610dbe565b600090815260208190526040902060060154610100900460ff1692915050565b60008383836003811115610a8a57610a8a610b24565b604051602001610a9c93929190610f78565b6040516020818303038152906040528051906020012090509392505050565b600060208284031215610acd57600080fd5b5035919050565b60005b83811015610aef578181015183820152602001610ad7565b50506000910152565b60008151808452610b10816020860160208601610ad4565b601f01601f19169290920160200192915050565b634e487b7160e01b600052602160045260246000fd5b60048110610b4a57610b4a610b24565b9052565b60028110610b4a57610b4a610b24565b6020815281516020820152600060208301516101206040840152610b86610140840182610af8565b90506040840151610b9a6060850182610b3a565b506060840151610bad6080850182610b4e565b506080840151838203601f190160a0850152610bc98282610af8565b91505060a084015160c084015260c084015160e084015260e0840151610bf461010085018215159052565b50610100840151801515610120850152509392505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610c3357600080fd5b813567ffffffffffffffff811115610c4d57610c4d610c0c565b604051601f8201601f19908116603f0116810167ffffffffffffffff81118282101715610c7c57610c7c610c0c565b604052818152838201602001851015610c9457600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215610cc757600080fd5b843567ffffffffffffffff811115610cde57600080fd5b610cea87828801610c22565b945050602085013560048110610cff57600080fd5b9250604085013560028110610d1357600080fd5b9150606085013567ffffffffffffffff811115610d2f57600080fd5b610d3b87828801610c22565b91505092959194509250565b600060208284031215610d5957600080fd5b813567ffffffffffffffff811115610d7057600080fd5b610d7c84828501610c22565b949350505050565b600181811c90821680610d9857607f821691505b602082108103610db857634e487b7160e01b600052602260045260246000fd5b50919050565b602081526000610dd16020830184610af8565b9392505050565b60008251610dea818460208701610ad4565b9190910192915050565b818103818111156103e957634e487b7160e01b600052601160045260246000fd5b601f821115610e5f57806000526020600020601f840160051c81016020851015610e3c5750805b601f840160051c820191505b81811015610e5c5760008155600101610e48565b50505b505050565b815167ffffffffffffffff811115610e7e57610e7e610c0c565b610e9281610e8c8454610d84565b84610e15565b6020601f821160018114610ec65760008315610eae5750848201515b600019600385901b1c1916600184901b178455610e5c565b600084815260208120601f198516915b82811015610ef65787850151825560209485019460019092019101610ed6565b5084821015610f145786840151600019600387901b60f8161c191681555b50505050600190811b01905550565b610f2d8188610b3a565b60c060208201526000610f4360c0830188610af8565b610f506040840188610b4e565b8281036060840152610f628187610af8565b6080840195909552505060a00152949350505050565b60008451610f8a818460208901610ad4565b919091019283525060f81b7fff0000000000000000000000000000000000000000000000000000000000000016602082015260210191905056fea26469706673582212206c6a431f4bfc9f7f88c3ee35112b6043a0d1940c571aa14aae472ff19bfba3ec64736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}